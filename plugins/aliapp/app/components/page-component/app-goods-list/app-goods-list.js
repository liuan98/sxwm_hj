;my.defineComponent || (my.defineComponent = Component);(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["components/page-component/app-goods-list/app-goods-list"],{"3f73":function(t,e,i){"use strict";i.r(e);var r=i("93ec"),n=i("7919");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("c9ad");var s=i("2877"),a=Object(s["a"])(n["default"],r["a"],r["b"],!1,null,"66891718",null);e["default"]=a.exports},7101:function(t,e,i){},7919:function(t,e,i){"use strict";i.r(e);var r=i("bc25"),n=i.n(r);for(var o in r)"default"!==o&&function(t){i.d(e,t,function(){return r[t]})}(o);e["default"]=n.a},"93ec":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n})},bc25:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(i("a34a")),n=i("2f62"),o=s(i("125c"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i,r,n,o,s){try{var a=t[o](s),u=a.value}catch(p){return void i(p)}a.done?e(u):Promise.resolve(u).then(r,n)}function u(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var o=t.apply(e,i);function s(t){a(o,r,n,s,u,"next",t)}function u(t){a(o,r,n,s,u,"throw",t)}s(void 0)})}}function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(i,!0).forEach(function(e){l(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d=function(){return i.e("components/page-component/goods/app-price").then(i.bind(null,"6c9f"))},h=function(){return i.e("components/page-component/app-attr/app-attr").then(i.bind(null,"d3c4"))},f=function(){return i.e("components/page-component/app-pt-attr/app-pt-attr").then(i.bind(null,"051f"))},g=function(){return i.e("components/page-component/app-member-mark/app-member-price").then(i.bind(null,"dd88"))},m=function(){return i.e("components/page-component/app-sup-vip/app-sup-vip").then(i.bind(null,"348c"))},_=function(){return i.e("components/basic-component/app-iphone-x/app-iphone-x").then(i.bind(null,"7598"))},b={name:"app-goods-list",components:{"app-price":d,"app-attr":h,"app-pt-attr":f,"app-member-price":g,"app-sup-vip":m,"app-iphone-x":_},props:{listStyle:{type:String,default:function(){return"2"}},list:Array,previewUrl:String,submitUrl:String},data:function(){return{show:0,buyText:"立即购买",sign:"",goods_id:"",cartShow:1,plugin:"",goods_list:[],buyBool:!1,cur_index:0,item:null,show_pt:!1,pt:!0,selectAttr:{},appAttr:{},attrGroup:[],selectGroupAttrId:-1}},computed:c({},(0,n.mapState)({theme:function(t){return t.mallConfig.theme+"-color"},appImg:function(t){return t.mallConfig.__wxapp_img.mall},appSetting:function(t){return t.mallConfig.mall.setting},isShowCart:function(t){return t.mallConfig.mall.setting.is_show_cart},isShowGoodsName:function(t){return t.mallConfig.mall.setting.is_show_goods_name}}),{},(0,n.mapGetters)("mallConfig",{getVideo:"getVideo"}),{listClass:function(){return 3==this.listStyle?"list-style-3 dir-left-wrap":2==this.listStyle?"list-style-2 dir-left-wrap":""}}),watch:{appAttr:{handler:function(t){"none"===t.display&&(this.show_pt=!1)}}},methods:{setGroupAttrID:function(t){this.selectGroupAttrId=t,this.selectAttr={},this.request_pt(t)},multiplayer:function(){if(this.pt){if(this.selectAttr&&0===Object.keys(this.selectAttr).length)t.showToast({title:"请选择规格",icon:"none"});else if(this.selectAttr&&Object.keys(this.selectAttr).length>0){for(var e=this.item.mch_id,i=[],r={id:this.item.id,attr:[],num:this.appAttr.number,goods_attr_id:this.selectAttr.id,cart_id:0},n=0;n<this.selectAttr.attr_list.length;n++){var o={attr_id:this.selectAttr.attr_list[n].attr_id,attr_group_id:this.selectAttr.attr_list[n].attr_group_id};r.attr.push(o)}i.push({mch_id:e,pintuan_order_id:0,pintuan_group_id:this.selectGroupAttrId,goods_list:[r]}),t.navigateTo({url:"/pages/order-submit/order-submit?mch_list=".concat(JSON.stringify(i),"&preview_url=").concat(encodeURIComponent(this.$api.pt.order_preview),"&submit_url=").concat(encodeURIComponent(this.$api.pt.order_submit),"&order_page_url=/plugins/pt/order/order&plugin=pt")})}}else this.selectAttr={},this.pt=!0,this.request_pt(this.selectGroupAttrId)},buyClick:function(t){(0,o.default)(t,this.sign,this,this.goods_list[this.cur_index])},attr:function(t){this.appAttr=t},specification:function(t){var e=this;switch(this.goods_id=t.id,this.sign=t.sign,"pintuan"!=this.sign&&(this.item=t,this.attrGroup=t.attr_groups,this.show=Math.random()),this.sign){case"advance":this.cartShow=0,this.buyText="支付定金",this.buyBool=!0;break;case"booking":this.cartShow=0,this.buyText="立即预约",this.plugin="booking";break;case"pintuan":this.$request({url:this.$api.pt.detail,data:{id:this.goods_id,group_id:0}}).then(function(t){e.item=t.data.detail,e.selectGroupAttrId=e.item.pintuan_groups[0].id,e.attrGroup=e.item.attr_groups,e.show=Math.random(),e.show_pt=!0,e.request_pt(e.selectGroupAttrId)});break;case"integral_mall":this.cartShow=0,this.buyText="立即兑换";break;case"step":this.cartShow=0,this.buyText="立即兑换";break;case"gift":this.cartShow=0,this.buyBool=!0,this.buyText="加入礼包";break;default:break}},request_pt:function(){var t=u(r.default.mark(function t(e){var i;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$request({url:this.$api.pt.detail,data:{id:this.goods_id,group_id:e}});case 3:i=t.sent,0===i.code&&(this.item=i.data.detail),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),new Error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(e){return t.apply(this,arguments)}return e}(),buy:function(){if(!this.submit())return!1;var e=this.item,i=this.appAttr.number,r=this.selectAttr,n=r.id,o=[];for(var s in r.attr_list)o.push({attr_id:r.attr_list[s].attr_id,attr_group_id:r.attr_list[s].attr_group_id});var a=[],u={mch_id:e.mch_id?e.mch_id:0,goods_list:[]};u.goods_list.push({id:e.id,attr:o,num:i,cat_id:0,goods_attr_id:n}),a.push(u),t.navigateTo({url:"/pages/order-submit/order-submit?mch_list="+JSON.stringify(a)})},individual:function(){this.pt?(this.pt=!1,this.selectAttr={},this.request_pt(0)):0===Object.keys(this.selectAttr).length?t.showToast({title:"请选择规格",icon:"none"}):this.buy()},jump:function(e){e.video_url&&1==this.getVideo?t.navigateTo({url:"/pages/goods/video?goods_id=".concat(e.id,"&sign=").concat(e.sign)}):t.navigateTo({url:e.page_url})},onAttr:function(t){this.selectAttr=t}},created:function(){}};e.default=b}).call(this,i("c11b")["default"])},c9ad:function(t,e,i){"use strict";var r=i("7101"),n=i.n(r);n.a}}]);
;(my["webpackJsonp"] = my["webpackJsonp"] || []).push([
    'components/page-component/app-goods-list/app-goods-list-create-component',
    {
        'components/page-component/app-goods-list/app-goods-list-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('c11b')['createComponent'](__webpack_require__("3f73"))
        })
    },
    [['components/page-component/app-goods-list/app-goods-list-create-component']]
]);                
