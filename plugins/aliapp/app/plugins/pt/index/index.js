(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["plugins/pt/index/index"],{"6cd3":function(t,n,e){"use strict";e.r(n);var i=e("dbb4"),r=e("f861");for(var a in r)"default"!==a&&function(t){e.d(n,t,function(){return r[t]})}(a);e("89a8");var o=e("2877"),u=Object(o["a"])(r["default"],i["a"],i["b"],!1,null,"6020b3e0",null);n["default"]=u.exports},"89a8":function(t,n,e){"use strict";var i=e("e164"),r=e.n(i);r.a},dbb4:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement;t._self._c},r=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return r})},e164:function(t,n,e){},f05f:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,n,e,i,r,a,o){try{var u=t[a](o),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(i,r)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var o=t.apply(n,e);function u(t){a(o,i,r,u,s,"next",t)}function s(t){a(o,i,r,u,s,"throw",t)}u(void 0)})}}function u(t){return p(t)||c(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,i)}return e}function d(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(e,!0).forEach(function(n){f(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function f(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var h=function(){return e.e("plugins/pt/components/app-index-nav").then(e.bind(null,"7136"))},g=function(){return e.e("plugins/pt/components/app-banner").then(e.bind(null,"9ff8"))},v=function(){return e.e("components/page-component/app-image-ad/app-image-ad").then(e.bind(null,"605d"))},b=function(){return Promise.all([e.e("common/vendor"),e.e("plugins/pt/components/app-product-list")]).then(e.bind(null,"bbb8"))},m=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/app-quick-navigation/app-quick-navigation")]).then(e.bind(null,"4d92"))},y={name:"index",data:function(){return{banners:[],setting:{},nav_list:[{name:"热卖",id:0}],page:1,page_count:1,goods_list:[],cat_id:0,imageStyle:0}},onLoad:function(t){var n=this;t.cat_id&&(this.cat_id=t.cat_id),this.$request({url:this.$api.pt.index}).then(function(t){if(0===t.code){n.banners=t.data.banners,n.setting=t.data.setting;for(var e=t.data.setting.advertisement,i=[],r=0;r<e.list.length;r++)i.push(d({},e.list[r],{link:{value:e.list[r].link_url,open_type:e.list[r].open_type}}));n.setting.advertisement.list=i,n.imageStyle=Number(e.current_style_id)}}),this.$request({url:this.$api.pt.cats}).then(function(e){var i;0===e.code&&((i=n.nav_list).push.apply(i,u(e.data.list)),t.cat_id||(n.cat_id=n.nav_list[0].id),n.request(0))})},onReachBottom:function(){this.page<this.page_count&&(this.page++,this.request(1))},methods:{changeStatus:function(){var t=o(i.default.mark(function t(n){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.cat_id=n,this.page=1,this.request(0);case 3:case"end":return t.stop()}},t,this)}));function n(n){return t.apply(this,arguments)}return n}(),request:function(){var t=o(i.default.mark(function t(n){var e,r;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.pt.goods,data:{page:this.page,cat_id:this.cat_id}});case 2:e=t.sent,0===e.code&&(1===n?(r=this.goods_list).push.apply(r,u(e.data.list)):this.goods_list=e.data.list,this.page_count=e.data.pagination.page_count);case 4:case"end":return t.stop()}},t,this)}));function n(n){return t.apply(this,arguments)}return n}()},onShareAppMessage:function(){return this.$shareAppMessage({path:"/plugins/pt/index/index",title:this.$children[0].navigationBarTitle})},components:{"app-index-nav":h,"app-banner":g,"app-image-ad":v,"app-product-list":b,"app-quick-navigation":m}};n.default=y},f861:function(t,n,e){"use strict";e.r(n);var i=e("f05f"),r=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);n["default"]=r.a}},[["04881","common/runtime","common/vendor"]]]);