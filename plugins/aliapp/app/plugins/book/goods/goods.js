(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["plugins/book/goods/goods"],{7914:function(t,n,e){},"80af":function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=(t._self._c,Number(110));t.$mp.data=Object.assign({},{$root:{m0:e}})},i=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i})},"82f3":function(t,n,e){"use strict";e.r(n);var o=e("9fe9"),i=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=i.a},"91f4":function(t,n,e){"use strict";e.r(n);var o=e("80af"),i=e("82f3");for(var r in i)"default"!==r&&function(t){e.d(n,t,function(){return i[t]})}(r);e("f178");var a=e("2877"),p=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"d38ee058",null);n["default"]=p.exports},"9fe9":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("2f62");function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,o)}return e}function r(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(e,!0).forEach(function(n){a(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function a(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function p(t){return s(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}var d=function(){return e.e("components/page-component/goods/app-goods-banner").then(e.bind(null,"12b6"))},l=function(){return e.e("components/page-component/goods/app-goods-price").then(e.bind(null,"e525"))},f=function(){return e.e("components/page-component/goods/app-goods-attr").then(e.bind(null,"9dc1"))},m=function(){return e.e("components/page-component/app-attr/app-attr").then(e.bind(null,"d3c4"))},g=function(){return e.e("plugins/book/components/app-store").then(e.bind(null,"f09e"))},h=function(){return e.e("components/page-component/app-related-suggestion-product/app-related-suggestion-product").then(e.bind(null,"1ce4"))},b=function(){return e.e("components/page-component/goods/app-goods-detail").then(e.bind(null,"5abf"))},v=function(){return Promise.all([e.e("common/vendor"),e.e("components/page-component/app-quick-navigation/app-quick-navigation")]).then(e.bind(null,"4d92"))},_=function(){return e.e("components/page-component/app-iphonex-bottom/app-iphonex-bottom").then(e.bind(null,"bc3b"))},y=function(){return e.e("components/basic-component/app-iphone-x/app-iphone-x").then(e.bind(null,"7598"))},w=function(){return e.e("components/page-component/goods/app-goods-service").then(e.bind(null,"311c"))},O=function(){return e.e("components/page-component/app-vip-card/app-vip-card").then(e.bind(null,"19f0"))},j=function(){return e.e("components/page-component/app-goods-detail/app-name").then(e.bind(null,"1caa"))},k=function(){return e.e("components/basic-component/app-empty-bottom/app-empty-bottom").then(e.bind(null,"0c06"))},P={name:"details",components:{"app-goods-banner":d,"app-goods-price":l,"app-goods-attr":f,"app-attr":m,"app-store":g,"app-related-suggestion-product":h,"app-goods-detail":b,"app-quick-navigation":v,"app-iphone-bottom":_,"app-iphone-x":y,"app-goods-service":w,"app-name":j,"app-vip-card":O,"app-empty-bottom":k},data:function(){return{item:null,selectAttr:{},activeIndex:0,list:[],submitUrl:this.$api.book.order_submit,previewUrl:this.$api.book.order_preview,url:"",cartShow:!1,isCart:!1,is_vip:!1,is_vip_card_user:0,discount:null,show:0,loading:!1}},onShareAppMessage:function(){return this.$shareAppMessage({path:"/plugins/book/goods/goods",title:this.item.app_share_title?this.item.app_share_title:this.item.name,imageUrl:this.item.app_share_pic?this.item.app_share_pic:"",params:{goods_id:this.item.id}})},onLoad:function(n){var e=this;t.getLocation({type:"wgs84",success:function(t){var o=n.goods_id;e.$request({url:e.$api.book.detail,data:{goods_id:o,latitude:t.latitude,longitude:t.longitude}}).then(function(t){0===t.code&&(e.loading=!0,e.item=t.data.list,e.item.id=e.item.goods_id,e.url="".concat(e.$api.book.poster,"&goods_id=").concat(e.item.goods_id),e.requestFun(o),e.item.vip_card_appoint.discount>0&&(e.is_vip=!0,e.discount=e.item.vip_card_appoint.discount),e.is_vip_card_user=e.item.vip_card_appoint.is_vip_card_user)})},fail:function(n){console.log(n),t.showModal({title:"提示",content:"请开启位置权限",success:function(){t.navigateBack()}})},complete:function(t){}})},methods:{attrtap:function(t){this.selectAttr=null!==t?t:{}},requestFun:function(t){var n=this;this.$request({url:this.$api.goods.new_recommend,data:{goods_id:t,page:this.page}}).then(function(t){0===t.code&&(t.data.list.length>0?n.list=[].concat(p(n.list),p(t.data.list)):n.over=!0)})},reservationNow:function(){this.show=Math.random()}},computed:r({},(0,o.mapState)({mall:function(t){return t.mallConfig.mall}}),{},(0,o.mapState)("gConfig",{iphone:function(t){return t.iphone},iphoneHeight:function(t){return t.iphoneHeight}}))};n.default=P}).call(this,e("c11b")["default"])},f178:function(t,n,e){"use strict";var o=e("7914"),i=e.n(o);i.a}},[["6577","common/runtime","common/vendor"]]]);