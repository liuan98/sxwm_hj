<view class="data-v-a1e266fc"><app-layout vue-id="1" class="data-v-a1e266fc" onVueInit="__l"><view class="{{(('data-v-a1e266fc')+' '+(''+(beMove?'screen':'')))}}" style="{{'height:'+(''+(!beMove?'100%':height/2+'px'))+';'}}"><view class="title data-v-a1e266fc">基本信息</view><view class="goods-img data-v-a1e266fc"><view class="label data-v-a1e266fc"><text class="data-v-a1e266fc">商品图片</text><text class="label-info data-v-a1e266fc">(最多9张，可拖拽改变顺序)</text></view><view class="goods-list data-v-a1e266fc"><movable-area class="flex-wrap data-v-a1e266fc" style="height:auto;width:100%;"><block a:for="{{img}}" a:for-item="item" a:for-index="index" a:key="index"><view data-event-opts="{{[['touchEnd',[['touchend',['$event']]]],['touchMove',[['touchm',['$event']]]],['longTap',[['_longtap',['$0',index,'$event'],[[['img','',index,'pic_url']]]]]]]}}" class="goods-item data-v-a1e266fc" catchTouchEnd="__e" catchTouchMove="__e" catchLongTap="__e"><image class="goods-cover move-img data-v-a1e266fc" mode="aspectFill" data-index="{{index}}" src="{{item.pic_url}}"></image><block a:if="{{!beMove}}"><image class="del-btn data-v-a1e266fc" src="/plugins/mch/image/delete.png" data-event-opts="{{[['tap',[['del_img',[index]]]]]}}" catchTap="__e"></image></block><block a:if="{{index==0&&!beMove}}"><view class="main-img data-v-a1e266fc">主图</view></block></view></block><block a:if="{{img.length<9}}"><view data-event-opts="{{[['tap',[['add_img',['$event']]]]]}}" class="add-goods-img data-v-a1e266fc" catchTap="__e"><image src="../../image/add-goods.png" class="data-v-a1e266fc"></image><view class="data-v-a1e266fc">添加</view></view></block><movable-view data-index="{{beginIndex}}" x="{{x}}" y="{{y}}" direction="all" damping="{{5000}}" friction="{{1}}" disabled="{{disabled}}" class="data-v-a1e266fc"><image class="goods-cover img-border data-v-a1e266fc" hidden="{{imgHidden}}" mode="aspectFill" src="{{img_src}}"></image></movable-view></movable-area></view></view><view class="goods-info data-v-a1e266fc"><view class="info-item cross-center main-between data-v-a1e266fc"><view class="form-label data-v-a1e266fc">商品名称</view><input data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['form']]]]]}}" class="input data-v-a1e266fc" value="{{form.name}}" onInput="__e"/></view><view class="info-item cross-center main-between data-v-a1e266fc"><view class="form-label data-v-a1e266fc">商品分类</view><view data-event-opts="{{[['tap',[['chooseCat',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc"><view class="cat-info dir-right-nowrap cross-center data-v-a1e266fc"><image class="to-more data-v-a1e266fc" src="/static/image/icon/arrow-right.png"></image><block a:if="{{in_cat.length>0}}"><text class="data-v-a1e266fc">{{in_cat}}</text></block><block a:else><text class="data-v-a1e266fc">未选择</text></block></view></view></view><view class="info-item cross-center main-between data-v-a1e266fc"><view class="form-label data-v-a1e266fc">多商户分类</view><view data-event-opts="{{[['tap',[['chooseMchCat',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc"><view class="cat-info dir-right-nowrap cross-center data-v-a1e266fc"><image class="to-more data-v-a1e266fc" src="/static/image/icon/arrow-right.png"></image><block a:if="{{in_mch_cat.length>0}}"><text class="data-v-a1e266fc">{{in_mch_cat}}</text></block><block a:else><text class="data-v-a1e266fc">未选择</text></block></view></view></view><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">单位</view><view class="dir-left-nowrap cross-center data-v-a1e266fc"><input data-event-opts="{{[['input',[['__set_model',['','unit','$event',[]]]]]]}}" class="input data-v-a1e266fc" value="{{unit}}" onInput="__e"/></view></view></view><view class="title data-v-a1e266fc">规格、价格及库存</view><view class="goods-info data-v-a1e266fc"><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc" style="border-top:0;"><view class="form-label data-v-a1e266fc">成本价</view><view class="dir-left-nowrap price-input cross-center data-v-a1e266fc"><input class="input data-v-a1e266fc" type="digit" data-event-opts="{{[['input',[['__set_model',['$0','cost_price','$event',[]],['form']]]]]}}" value="{{form.cost_price}}" onInput="__e"/><view class="money data-v-a1e266fc">¥</view></view></view><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">原价</view><view class="dir-left-nowrap price-input cross-center data-v-a1e266fc"><input class="input data-v-a1e266fc" type="digit" data-event-opts="{{[['input',[['__set_model',['$0','original_price','$event',[]],['form']]]]]}}" value="{{form.original_price}}" onInput="__e"/><view class="money data-v-a1e266fc">¥</view></view></view><block a:if="{{attr.length==0}}"><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">售价</view><view class="dir-left-nowrap price-input cross-center data-v-a1e266fc"><input class="input data-v-a1e266fc" type="digit" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',[]],['form']]]]]}}" value="{{form.price}}" onInput="__e"/><view class="money data-v-a1e266fc">¥</view></view></view></block><block a:if="{{attr.length==0}}"><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">库存</view><view class="dir-left-nowrap price-input cross-center data-v-a1e266fc"><input class="input data-v-a1e266fc" type="number" data-event-opts="{{[['input',[['__set_model',['$0','goods_num','$event',[]],['form']]]]]}}" value="{{form.goods_num}}" onInput="__e"/></view></view></block></view><view class="attr data-v-a1e266fc"><block a:for="{{attr}}" a:for-item="idx" a:for-index="index" a:key="index"><view class="attr-info dir-right-nowrap data-v-a1e266fc"><view class="attr-input data-v-a1e266fc"><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc" style="border-top:0;"><view class="form-label data-v-a1e266fc">规格</view><view class="dir-left-nowrap cross-center price-input data-v-a1e266fc"><input data-event-opts="{{[['input',[['__set_model',['$0','attr_name','$event',[]],[[['attr','',index,'attr_list.__$n0']]]]]]]}}" class="input data-v-a1e266fc" value="{{idx.attr_list[0].attr_name}}" onInput="__e"/></view></view><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">售价</view><view class="dir-left-nowrap cross-center price-input data-v-a1e266fc"><input class="input data-v-a1e266fc" type="digit" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',[]],[[['attr','',index]]]]]]]}}" value="{{idx.price}}" onInput="__e"/><view class="money data-v-a1e266fc">¥</view></view></view><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">库存</view><view class="dir-left-nowrap cross-center price-input data-v-a1e266fc" type="digit"><input class="input data-v-a1e266fc" type="number" data-event-opts="{{[['input',[['__set_model',['$0','stock','$event',[]],[[['attr','',index]]]]]]]}}" value="{{idx.stock}}" onInput="__e"/></view></view><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">货号</view><view class="dir-left-nowrap cross-center price-input data-v-a1e266fc"><input data-event-opts="{{[['input',[['__set_model',['$0','no','$event',[]],[[['attr','',index]]]]]]]}}" class="input data-v-a1e266fc" value="{{idx.no}}" onInput="__e"/></view></view><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">重量(<text style="color:#666666;" class="data-v-a1e266fc">g</text>)</view><view class="dir-left-nowrap cross-center price-input data-v-a1e266fc"><input class="input data-v-a1e266fc" type="number" data-event-opts="{{[['input',[['__set_model',['$0','weight','$event',[]],[[['attr','',index]]]]]]]}}" value="{{idx.weight}}" onInput="__e"/></view></view></view><image class="low-attr data-v-a1e266fc" src="/plugins/mch/image/low.png" data-event-opts="{{[['tap',[['pop',[index]]]]]}}" onTap="__e"></image></view></block><view class="{{(('data-v-a1e266fc')+' '+(''+(attr.length>0?'attr-btn-item':'goods-info')))}}"><view data-event-opts="{{[['tap',[['add_attr',['$event']]]]]}}" class="add-attr data-v-a1e266fc" onTap="__e"><view class="add-attr-btn main-center data-v-a1e266fc"><image src="/plugins/mch/image/add.png" class="data-v-a1e266fc"></image><view class="data-v-a1e266fc">增加规格</view></view></view></view></view><view class="title data-v-a1e266fc">运费、包邮及限购</view><view class="goods-info data-v-a1e266fc"><view class="info-item cross-center main-between data-v-a1e266fc" style="border-top:0;"><view class="form-label data-v-a1e266fc">运费设置</view><view data-event-opts="{{[['tap',[['chooseExpress',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc"><view class="cat-info dir-right-nowrap cross-center data-v-a1e266fc"><image class="to-more data-v-a1e266fc" src="/static/image/icon/arrow-right.png"></image><block a:if="{{bePostage.id>0}}"><text class="data-v-a1e266fc">{{bePostage.name}}</text></block><block a:else><text class="data-v-a1e266fc">未选择</text></block></view></view></view><view class="express-setting data-v-a1e266fc"><view class="express-input cross-center data-v-a1e266fc"><view class="integral data-v-a1e266fc">满件包邮</view><input class="input data-v-a1e266fc" type="number" data-event-opts="{{[['input',[['__set_model',['$0','pieces','$event',[]],['form']]]]]}}" value="{{form.pieces}}" onInput="__e"/></view><view class="express-etc data-v-a1e266fc">如果设置0或空，则不支持满件包邮</view></view><view class="express-setting data-v-a1e266fc"><view class="express-input cross-center data-v-a1e266fc"><view class="integral data-v-a1e266fc">满额包邮</view><input class="input data-v-a1e266fc" type="digit" data-event-opts="{{[['input',[['__set_model',['$0','forehead','$event',[]],['form']]]]]}}" value="{{form.forehead}}" onInput="__e"/></view><view class="express-etc data-v-a1e266fc">如果设置0或空，则不支持满额包邮</view></view><view class="info-item main-between data-v-a1e266fc"><view class="data-v-a1e266fc">限购</view><switch style="transform:scale(0.7);" value="{{confine}}" data-event-opts="{{[['change',[['e0',['$event']]]]]}}" onChange="__e" class="data-v-a1e266fc"></switch></view><block a:if="{{confine}}"><view class="info-item cross-center dir-left-nowrap data-v-a1e266fc"><view class="form-label data-v-a1e266fc">限购数量</view><view class="dir-left-nowrap cross-center price-input data-v-a1e266fc"><input class="input data-v-a1e266fc" type="number" data-event-opts="{{[['input',[['__set_model',['$0','confine_count','$event',[]],['form']]]]]}}" value="{{form.confine_count}}" onInput="__e"/></view></view></block></view><view class="title data-v-a1e266fc">商品详情图</view><view class="goods-info data-v-a1e266fc"><view class="info-item cross-center main-between data-v-a1e266fc" style="border-top:0;"><view class="form-label data-v-a1e266fc">商品详情图</view><view data-event-opts="{{[['tap',[['toGoodsDetail',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc"><view class="cat-info dir-right-nowrap cross-center data-v-a1e266fc"><image class="to-more data-v-a1e266fc" src="/static/image/icon/arrow-right.png"></image><block a:if="{{goods_detail.length>0}}"><text class="data-v-a1e266fc">已添加</text></block><block a:else><text class="data-v-a1e266fc">未添加</text></block></view></view></view></view><view class="title data-v-a1e266fc">服务内容</view><view class="goods-info data-v-a1e266fc"><view class="info-item cross-center main-between data-v-a1e266fc" style="border-top:0;"><view class="form-label data-v-a1e266fc">服务内容</view><view data-event-opts="{{[['tap',[['chooseService',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc"><view class="cat-info dir-right-nowrap cross-center data-v-a1e266fc"><image class="to-more data-v-a1e266fc" src="/static/image/icon/arrow-right.png"></image><block a:if="{{beService.length>0}}"><text class="data-v-a1e266fc">已添加</text></block><block a:else><block a:if="{{service.length>0}}"><text class="data-v-a1e266fc">未添加</text></block><block a:else><text class="data-v-a1e266fc">未设置</text></block></block></view></view></view></view><view data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc"><view class="send data-v-a1e266fc">上架</view></view><block a:if="{{dialog}}"><view class="{{((('data-v-a1e266fc')+' '+'dialog')+' '+(''+(iphone_x?'iphone_x':'')))}}"><view class="picker-list data-v-a1e266fc"><view class="main-between picker-header data-v-a1e266fc"><view data-event-opts="{{[['tap',[['toggle',['$event']]]]]}}" onTap="__e" class="data-v-a1e266fc">取消</view><block a:if="{{set_cat}}"><view data-event-opts="{{[['tap',[['choose_cat',[1]]]]]}}" onTap="__e" class="data-v-a1e266fc">确定</view></block><block a:else><block a:if="{{set_mch_cat}}"><view data-event-opts="{{[['tap',[['choose_mch_cat',[1]]]]]}}" onTap="__e" class="data-v-a1e266fc">确定</view></block><block a:else><view data-event-opts="{{[['tap',[['toggle',[1]]]]]}}" onTap="__e" class="data-v-a1e266fc">确定</view></block></block></view><block a:if="{{set_cat||set_mch_cat}}"><view class="dir-left-nowrap is_cat data-v-a1e266fc"><block a:for="{{isChooseCat}}" a:for-item="item" a:for-index="index" a:key="index"><text class="data-v-a1e266fc">{{item}}</text></block></view></block><picker-view class="picker data-v-a1e266fc" value="{{[set_postage?postageIndex:-1]}}" data-event-opts="{{[['change',[['bindChange',['$event']]]]]}}" onChange="__e"><picker-view-column class="data-v-a1e266fc"><block a:for="{{choose_list}}" a:for-item="item" a:for-index="__i0__" a:key="id"><block a:if="{{set_cat||set_mch_cat}}"><view class="cross-center picker-text data-v-a1e266fc">{{item.label}}</view></block></block><block a:for="{{postage}}" a:for-item="item" a:for-index="__i1__" a:key="id"><block a:if="{{set_postage}}"><view class="cross-center picker-text data-v-a1e266fc">{{item.name}}</view></block></block></picker-view-column></picker-view></view></view></block></view><block a:if="{{is_service}}"><view class="dialog data-v-a1e266fc"><view class="dialog-item data-v-a1e266fc"><view class="dialog-title data-v-a1e266fc">服务内容</view><block a:for="{{service}}" a:for-item="item" a:for-index="index" a:key="index"><block a:if="{{is_service}}"><view data-event-opts="{{[['tap',[['choose',['$0'],[[['service','',index]]]]]]]}}" class="dir-left-nowrap type-choose data-v-a1e266fc" onTap="__e"><block a:if="{{item.isChoose}}"><image class="active-status data-v-a1e266fc" src="./../../image/apply-ok.png"></image></block><block a:else><image class="active-status data-v-a1e266fc" src="/static/image/icon/form-er.png"></image></block><view class="{{(('data-v-a1e266fc')+' '+(''+(item.isChoose?'active':'')))}}">{{item.name}}</view></view></block></block><view class="main-center btn-area data-v-a1e266fc"><view data-event-opts="{{[['tap',[['cancelService',['$event']]]]]}}" class="submit-btn data-v-a1e266fc" onTap="__e">取消</view><view class="line data-v-a1e266fc"></view><view data-event-opts="{{[['tap',[['submitService',['$event']]]]]}}" class="submit-btn be-submit data-v-a1e266fc" onTap="__e">确认</view></view></view></view></block><block a:if="{{modal}}"><view class="dialog data-v-a1e266fc"><view class="dialog-item data-v-a1e266fc"><view class="dialog-title data-v-a1e266fc">提示</view><block a:if="{{set_cat}}"><view class="error-info data-v-a1e266fc">您暂未设置分类<view class="_br data-v-a1e266fc"></view>请前往商城后台设置</view></block><block a:if="{{set_mch_cat&&mch_cat.length==0}}"><view class="error-info data-v-a1e266fc">您暂未设置多商户分类<view class="_br data-v-a1e266fc"></view>请前往商城后台设置</view></block><block a:if="{{set_postage&&postage.length==0}}"><view class="error-info data-v-a1e266fc">您暂未设置运费模板<view class="_br data-v-a1e266fc"></view>请前往商城后台设置</view></block><block a:if="{{set_service&&service.length==0}}"><view class="error-info data-v-a1e266fc">您暂未设置服务内容<view class="_br data-v-a1e266fc"></view>请前往商城后台设置</view></block><view class="main-center btn-area data-v-a1e266fc"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="submit-btn be-submit data-v-a1e266fc" onTap="__e">确认</view></view></view></view></block><block a:if="{{error}}"><view class="dialog data-v-a1e266fc"><view class="dialog-item data-v-a1e266fc"><view class="dialog-title data-v-a1e266fc">提示</view><view class="error-info data-v-a1e266fc">{{error}}</view><view class="main-center btn-area data-v-a1e266fc"><view data-event-opts="{{[['tap',[['close',['$event']]]]]}}" class="submit-btn be-submit data-v-a1e266fc" onTap="__e">确认</view></view></view></view></block><block a:if="{{beSubmit}}"><view class="dialog data-v-a1e266fc"><view class="dialog-item data-v-a1e266fc"><view class="dialog-title data-v-a1e266fc">提示</view><view class="submit-info data-v-a1e266fc">是否确认添加此商品</view><view class="main-center btn-area data-v-a1e266fc"><view data-event-opts="{{[['tap',[['cancel',['$event']]]]]}}" class="submit-btn data-v-a1e266fc" onTap="__e">取消</view><view class="line data-v-a1e266fc"></view><view data-event-opts="{{[['tap',[['toSubmit',['$event']]]]]}}" class="submit-btn be-submit data-v-a1e266fc" onTap="__e">确认</view></view></view></view></block></app-layout></view>