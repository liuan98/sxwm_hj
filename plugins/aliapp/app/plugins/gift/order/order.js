(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["plugins/gift/order/order"],{"1a40":function(t,e,n){"use strict";var i=n("4a99"),r=n.n(i);r.a},"387e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("a34a")),r=n("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return p(t)||f(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function h(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(i,r)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function s(t){h(o,i,r,s,a,"next",t)}function a(t){h(o,i,r,s,a,"throw",t)}s(void 0)})}}var g=function(){return n.e("plugins/gift/components/announcement/gift-navigation").then(n.bind(null,"aaa8"))},m=function(){return n.e("plugins/gift/components/order/switch-tab").then(n.bind(null,"7c1d"))},b=function(){return n.e("plugins/gift/components/order/order-list").then(n.bind(null,"7d4f"))},_=function(){return n.e("components/basic-component/app-empty-bottom/app-empty-bottom").then(n.bind(null,"0c06"))},v=function(){return n.e("plugins/gift/components/order/order-win-list").then(n.bind(null,"595e"))},w=function(){return n.e("plugins/gift/components/order/order-involved-list").then(n.bind(null,"c042"))},y=function(){return n.e("components/page-component/app-share-qr-code-poster/app-share-qr-code-poster").then(n.bind(null,"409e"))},O={name:"order",data:function(){return{tab_status:0,list:[],page_count:1,page:1,url:"",share:!1,shareUrl:"",gift_id:-1,turn_no:"",share_img:"",bless_word:""}},onLoad:function(){var t=this;this.list=[],this.url=this.$api.gift.send_list,this.$nextTick(function(){t.request()})},onShow:function(){},onShareAppMessage:function(t){return"button"==t.from?this.$shareAppMessage({path:"/plugins/gift/index/index",imageUrl:this.share_img,bgImgUrl:this.share_img,title:this.bless_word,params:{gift_id:this.gift_id,turn_no:this.turn_no}}):this.$shareAppMessage({path:"/plugins/gift/index/index",title:this.bless_word,imageUrl:this.big_gift_pic})},onReachBottom:function(){this.page<this.page_count&&(this.page++,this.request())},methods:{setTab:function(t){switch(this.tab_status=t,this.list=[],this.page=1,t){case 0:this.url=this.$api.gift.send_list;break;case 1:this.url=this.$api.gift.my_win;break;case 2:this.url=this.$api.gift.my_join}this.request()},request:function(){var e=d(i.default.mark(function e(){var n,r;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$utils.showLoading(),e.prev=1,e.next=4,this.$request({url:this.url,methods:"get",data:{page:this.page}});case 4:n=e.sent,0===n.code?((r=this.list).push.apply(r,c(n.data.list)),this.page_count=n.data.pagination.page_count):t.showModal({title:"提示",content:n.msg}),this.$utils.hideLoading(),e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](1),this.$utils.hideLoading(),new Error(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,9]])}));function n(){return e.apply(this,arguments)}return n}(),setShare:function(){var e=d(i.default.mark(function e(n){var r;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$utils.showLoading(),e.next=3,this.$request({url:this.$api.gift.turn,data:{id:n.id}});case 3:r=e.sent,0===r.code?(this.turn_no=r.data.turn_no,this.gift_id=n.gift_id,this.bless_word=n.bless_word,1===n.item.is_big_gift?this.share_img=this.big_gift_pic:this.share_img=n.item.detail[0].cover_pic,this.share=!0):t.showModal({title:"提示",content:r.msg}),this.$utils.hideLoading();case 6:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),receipt:function(e){console.log(e);var n=this;t.showModal({title:"提示",content:"确认收货",success:function(t){t.confirm&&n.$request({url:n.$api.order.confirm,data:{id:n.list[e].giftOrder[0].order_id}}).then(function(t){0===t.code&&(n.list[e].status="已完成",n.list[e].status_num=7)})}})}},computed:a({},(0,r.mapState)("gift",{theme:function(t){return t.theme},big_gift_pic:function(t){return t.big_gift_pic}})),components:{"gift-navigation":g,"switch-tab":m,"order-list":b,"app-empty-bottom":_,"order-win-list":v,"order-involved-list":w,"app-share-qr-code-poster":y}};e.default=O}).call(this,n("c11b")["default"])},"4a99":function(t,e,n){},"7dea":function(t,e,n){"use strict";n.r(e);var i=n("81e2"),r=n("90b6");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n("1a40");var s=n("2877"),a=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"710de3c6",null);e["default"]=a.exports},"81e2":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=(t._self._c,Number(96));t.$mp.data=Object.assign({},{$root:{m0:n}})},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"90b6":function(t,e,n){"use strict";n.r(e);var i=n("387e"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=r.a}},[["9403","common/runtime","common/vendor"]]]);