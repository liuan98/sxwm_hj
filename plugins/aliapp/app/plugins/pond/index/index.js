(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["plugins/pond/index/index"],{"028e":function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement;n._self._c},r=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return r})},"2fdf":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e("2f62");function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,i)}return e}function o(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(e,!0).forEach(function(t){a(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var s=function(){return e.e("components/page-component/app-share-qr-code-poster/app-share-qr-code-poster").then(e.bind(null,"409e"))},c={name:"index",components:{appShareQrCodePoster:s},computed:o({},(0,i.mapState)({appImg:function(n){return n.mallConfig.plugin.pond.app_image},userInfo:function(n){return n.user.info}})),data:function(){var n,t,e;return{bout:n,btn:t,animation:e,circleList:[],awardList:[],colorCircleFirst:"#F12416",colorCircleSecond:"#FFFFFF",colorAwardDefault:"#F5F0FC",colorAwardSelect:"#FFE400",indexSelect:0,prizeIndex:0,isRunning:!1,animationData:{},status:0,setting:null,oppty:0,msg:"",name:"",poster:this.$api.pond.poster,shareShow:!1}},onShow:function(){var t=this;t.$showLoading({title:"加载中"}),t.$request({url:this.$api.pond.index}).then(function(e){if(t.$hideLoading(),e.data){t.oppty=e.data.oppty,t.msg=e.msg,t.setting=e.data.setting;for(var i=e.data.list,r=18,o=18,a=0;a<8;a++)0===a?(r=18,o=18):a<3?o=o+196+8:a<5?r=r+158+8:a<7?o=o-196-8:a<8&&(r=r-158-8),i[a].topAward=r+"rpx",i[a].leftAward=o+"rpx";t.awardList=i,t.boutAnimation(),t.btnAnimation()}else n.showToast({title:e.msg,icon:"none"})}).catch(function(n){t.$hideLoading()})},onShareAppMessage:function(){return this.$shareAppMessage({title:this.$children[0].navigationBarTitle,path:"/plugins/pond/index/index",params:{}})},onHide:function(){clearInterval(this.bout),clearInterval(this.btn)},methods:{home:function(){n.redirectTo({url:"/pages/index/index"})},prize:function(){n.navigateTo({url:"/plugins/pond/prize/prize"})},rules:function(){n.navigateTo({url:"/plugins/pond/rule/rule?rules="+this.setting.rule})},share:function(){this.shareShow=!0},startGame:function(){var t=this;if(!t.isRunning){if(t.msg)return n.showToast({title:t.msg,icon:"none"}),void(t.isRunning=!1);clearInterval(t.btn),t.animation.translate(0,0).step(),t.animationData=t.animation.export(),t.isRunning=!0,t.prizeIndex=0;var e=0,i=t.indexSelect,r=t.awardList,o=setInterval(function(){e+=30,i++,i%=8,t.indexSelect=i,t.prizeIndex>0&&i+1==t.prizeIndex&&(clearInterval(o),t.btnAnimation(),t.isRunning=!1,t.name=r[i].name,t.status=5==r[i].type?1:2)},200+e);t.$request({url:t.$api.pond.lottery}).then(function(e){0!==e.code?(clearInterval(o),n.showToast({title:e.msg,icon:"none"}),t.isRunning=!1,t.btnAnimation()):r.map(function(n,i,o){n.id==e.data.id&&(console.log(r[i].name),setTimeout(function(){t.prizeIndex=i+1,t.oppty=e.data.oppty,t.msg=e.msg},2e3))})}).catch(function(n){clearInterval(o),t.isRunning=!1,t.btnAnimation()})}},boutAnimation:function(){for(var n=this,t=4,e=4,i=[],r=0;r<24;r++){if(0===r)e=8,t=8;else if(r<6)e=4,t+=110;else if(6===r)e=8,t=660;else if(r<12)e+=92,t=663;else if(12===r)e=545,t=660;else if(r<18)e=550,t-=110;else if(18===r)e=545,t=10;else{if(!(r<24))return;e-=92,t=5}i.push({topCircle:e+"rpx",leftCircle:t+"rpx"})}n.circleList=i,n.bout=setInterval(function(){var t=n.colorCircleFirst;n.colorCircleFirst=n.colorCircleSecond,n.colorCircleSecond=t},900)},btnAnimation:function(){var t=this,e=n.createAnimation({duration:500,timingFunction:"step-start",delay:0,transformOrigin:"50% 50%"});t.animation=e;var i=!0;t.btn=setInterval(function(){i?(e.translate(0,0).step(),i=!1):(e.translate(0,-3).step(),i=!0),t.animationData=e.export()},900)},closeActModal:function(){this.status=0}}};t.default=c}).call(this,e("c11b")["default"])},"31dd":function(n,t,e){},"372a":function(n,t,e){"use strict";e.r(t);var i=e("2fdf"),r=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,function(){return i[n]})}(o);t["default"]=r.a},9797:function(n,t,e){"use strict";var i=e("31dd"),r=e.n(i);r.a},e3bc:function(n,t,e){"use strict";e.r(t);var i=e("028e"),r=e("372a");for(var o in r)"default"!==o&&function(n){e.d(t,n,function(){return r[n]})}(o);e("9797");var a=e("2877"),s=Object(a["a"])(r["default"],i["a"],i["b"],!1,null,"76987ec3",null);t["default"]=s.exports}},[["35d5","common/runtime","common/vendor"]]]);