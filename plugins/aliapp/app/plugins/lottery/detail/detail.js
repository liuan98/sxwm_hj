(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["plugins/lottery/detail/detail"],{"3e8d":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return o}),i.d(e,"b",function(){return n})},"67ee":function(t,e,i){},"79c1":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"detail",components:{},data:function(){return{page:1,load:!1,args:!1,title:"抽奖",list:null,num:"",user_list:null,setting:null}},onShareAppMessage:function(t){return this.$shareAppMessage({title:this.title,path:"/plugins/lottery/goods/goods",params:{lottery_id:this.list.lottery_id}})},onLoad:function(e){var i=this;i.getSetting(),i.$showLoading(),i.$request({url:i.$api.lottery.detail,data:{id:e.id?e.id:0,lottery_id:e.lottery_id?e.lottery_id:0},method:"POST"}).then(function(e){if(i.$hideLoading(),0===e.code){var o=[e.data.list,e.data.num,e.data.user_list];i.list=o[0],i.num=o[1],i.user_list=o[2]}else t.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(e){e.confirm&&t.navigateBack({delta:1})}})}).catch(function(t){i.$hideLoading()})},methods:{userload:function(){var t=this;if(!t.args&&!t.load){t.load=!0;var e=t.page+1;t.$request({url:t.$api.lottery.detail,data:{page:e,lottery_id:t.list.lottery_id}}).then(function(i){if(0===i.code){var o=[e,i.data.user_list.length<6,t.user_list.concat(i.data.user_list)];t.page=o[0],t.args=o[1],t.user_list=o[2]}t.load=!1})}},getSetting:function(){var t=this;t.$request({url:t.$api.lottery.setting}).then(function(e){0===e.code&&(t.setting=e.data.setting)}).catch(function(t){console.log(t)})},navGoods:function(){t.navigateTo({url:"/plugins/lottery/goods/goods?lottery_id="+this.list.lottery_id})},qrcode:function(){t.navigateTo({url:"/plugins/lottery/qrcode/qrcode"})},prize:function(){t.navigateTo({url:"/plugins/lottery/lucky-code/lucky-code?lottery_id="+this.list.lottery_id})},moreLottery:function(){t.redirectTo({url:"/plugins/lottery/index/index"})},submit:function(){var e=this.list,i=[{mch_id:0,lottery_log_id:e.id,goods_list:[{id:e.goods.id,attr:e.attr.attr_list,num:1,cart_id:0,goods_attr_id:e.goods.attr_id}]}];t.navigateTo({url:"/pages/order-submit/order-submit?mch_list="+JSON.stringify(i)+"&preview_url="+encodeURIComponent(this.$api.lottery.order_preview)+"&submit_url="+encodeURIComponent(this.$api.lottery.order_submit)})}}};e.default=i}).call(this,i("c11b")["default"])},"7bbb":function(t,e,i){"use strict";i.r(e);var o=i("79c1"),n=i.n(o);for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);e["default"]=n.a},9036:function(t,e,i){"use strict";var o=i("67ee"),n=i.n(o);n.a},f188:function(t,e,i){"use strict";i.r(e);var o=i("3e8d"),n=i("7bbb");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i("9036");var a=i("2877"),l=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"70cd7794",null);e["default"]=l.exports}},[["b3b4","common/runtime","common/vendor"]]]);