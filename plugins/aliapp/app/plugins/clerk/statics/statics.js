(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["plugins/clerk/statics/statics"],{"37e0":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("a9cc")),o=a("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach(function(e){s(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d,l=function(){return Promise.all([a.e("common/vendor"),a.e("components/basic-component/app-layout/app-layout")]).then(a.bind(null,"0b17"))},f=function(){return Promise.all([a.e("common/vendor"),a.e("components/basic-component/app-form-id/app-form-id")]).then(a.bind(null,"8ee9"))},p=function(){return a.e("components/basic-component/app-tab-nav/app-tab-nav").then(a.bind(null,"7fd0"))},m={},b={name:"about",components:{"app-layout":l,"app-tab-nav":p,"app-form-id":f},data:function(){return{tabList:[{id:0,name:"累计"},{id:1,name:"今日"},{id:-1,name:"昨日"},{id:7,name:"7日"},{id:30,name:"30日"}],cWidth:"",cHeight:"",pixelRatio:1,card_list:[],order_num_list:[],order_price_list:[],activeTab:0,total_card:0,total_order_num:0,total_order_price:0}},computed:u({},(0,o.mapState)({theme:function(t){return t.mallConfig.theme},mall:function(t){return t.mallConfig.mall}})),onLoad:function(){d=this,t.getSystemInfo({success:function(t){t.pixelRatio>1&&(d.pixelRatio=2)}}),this.cWidth=t.upx2px(702),this.cHeight=t.upx2px(340),this.activeTab=0,this.getList()},methods:{showColumn:function(t,e,a,o){m[t]=new n.default({$this:d,canvasId:t,type:"area",legend:{show:!1},fontSize:9,background:"#FFFFFF",colors:a,padding:o||[15,15,4,0],pixelRatio:d.pixelRatio,animation:!1,categories:e.categories,series:e.series,xAxis:{disableGrid:!0},yAxis:{gridType:"dash",data:{disabled:!0}},dataLabel:!1,dataPointShape:!1,width:d.cWidth*d.pixelRatio,height:d.cHeight*d.pixelRatio,extra:{area:{type:"curve",addLine:!0},tooltip:{bgColor:"#000000",bgOpacity:.7}}})},tabStatus:function(t){this.activeTab=t.currentTarget.dataset.id,this.getList()},touchIt:function(t,e){m[e].showToolTip(t,{format:function(t,e){return t.color="rgba(0,0,0,0)","object"===i(t.data)?e+" "+t.name+":"+t.data.value:e+" "+t.name+":"+t.data}})},getList:function(){var e=this;e.$request({url:e.$api.clerk.statistics,data:{key:e.activeTab}}).then(function(a){if(e.$hideLoading(),0==a.code){e.card_list=a.data.card_list,e.order_num_list=a.data.order_num_list,e.order_price_list=a.data.order_price_list,e.total_card=0,e.total_order_num=0,e.total_order_price=0,e.card_list.forEach(function(t){e.total_card=(+e.total_card+ +t.num).toFixed(2)}),console.log(e.order_num_list),e.order_num_list.forEach(function(t){e.total_order_num=(+e.total_order_num+ +t.num).toFixed(2)}),e.order_price_list.forEach(function(t){e.total_order_price=(+e.total_order_price+ +t.num).toFixed(2)});var n={categories:[],series:[{name:"核销订单数",data:[]}]},o={categories:[],series:[{name:"核销订单金额",data:[]}]},r={categories:[],series:[{name:"核销卡券数",data:[]}]},i=[15,15,4,-20];1!=e.activeTab&&-1!=e.activeTab&&7!=e.activeTab||(i=[15,15,4,0]),n=e.create(a.data.order_num_list,n),d.showColumn("canvasFirst",n,["#417afd"],i),o=e.create(a.data.order_price_list,o),d.showColumn("canvasSec",o,["#ff9000"]),r=e.create(a.data.card_list,r),d.showColumn("canvasThird",r,["#41c6fe"])}else t.showToast({title:a.msg,icon:"none",duration:1e3})}).catch(function(t){e.$hideLoading()})},create:function(t,e){var a,n=this;return t.forEach(function(o,r){a=t[r].time,1==n.activeTab||-1==n.activeTab?r%6==0?(a<10?a="0"+a+":00":a+=":00",e.categories.push(a)):e.categories.push(""):30==n.activeTab?r%5==0||r==t.length-1?e.categories.push(a):e.categories.push(""):e.categories.push(a),e.series[0].data.push(o.num)}),1!=n.activeTab&&-1!=n.activeTab||e.categories.push("24:00"),e}}};e.default=b}).call(this,a("c11b")["default"])},"3aad":function(t,e,a){"use strict";var n=a("5e58"),o=a.n(n);o.a},"3fd6":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},"5e58":function(t,e,a){},"64ef":function(t,e,a){"use strict";a.r(e);var n=a("3fd6"),o=a("e25f");for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);a("3aad");var i=a("2877"),c=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"ec4d476c",null);e["default"]=c.exports},e25f:function(t,e,a){"use strict";a.r(e);var n=a("37e0"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=o.a}},[["fdf1","common/runtime","common/vendor"]]]);