(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/order/order-detail/order-detail"],{1492:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r})},5076:function(e,t,n){"use strict";var o=n("61c6"),r=n.n(o);r.a},"57b3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("ee50"));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(){return n.e("components/page-component/app-order-goods-info/app-order-goods-info").then(n.bind(null,"1602"))},i=function(){return n.e("components/page-component/app-order-express/app-order-express").then(n.bind(null,"2338"))},s=function(){return n.e("components/page-component/app-order-banner/app-order-banner").then(n.bind(null,"ccb8"))},d=function(){return Promise.all([n.e("common/vendor"),n.e("components/basic-component/app-jump-button/app-jump-button")]).then(n.bind(null,"b362"))},c={components:{AppJumpButton:d,"app-order-goods-info":a,"app-order-express":i,"app-order-banner":s},data:function(){return{order_id:null,orderDetail:{detailExpressRelation:[]},is_show:!1,advance_order:{goods_num:0},detail:[],sign:""}},computed:{getPageUrl:function(){var e=this.orderDetail;if(1==e.is_send&&0==e.detailExpressRelation.length){var t="";return e.detail.forEach(function(e,n){0===n&&(t=e.goods_info.pic_url)}),"/pages/order/express-detail/express-detail?express=".concat(e.express,"&customer_name=").concat(e.customer_name,"&express_no=").concat(e.express_no,"&cover_pic=").concat(t)}if(1==e.is_send&&1==e.detailExpressRelation.length){var n=e.detailExpress[0].express,o=e.detailExpress[0].express_no,r=e.detailExpress[0].customer_name,a=e.detailExpress[0].expressRelation[0].orderDetail.goods_info.goods_attr.cover_pic;return"/pages/order/express-detail/express-detail?express="+n+"&customer_name="+r+"&express_no="+o+"&cover_pic="+a}if(e.detailExpressRelation.length>=1)return"/pages/order/express-list/express-list?order_id="+e.id}},methods:{getOrderDetail:function(){var t=this;t.$showLoading(),t.$request({url:t.$api.order.detail,data:{id:t.order_id}}).then(function(n){t.$hideLoading(),t.is_show=!0,0==n.code?t.orderDetail=n.data.detail:e.showModal({title:"",content:n.msg,showCancel:!1})}).catch(function(){t.$hideLoading()})},copyText:function(e){o.default.copyText(e)},navigation:function(t){e.openLocation({latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude),name:t.name,address:t.address})},cancel:function(t){var n=this;e.showModal({title:"提示",content:"是否取消订单？",success:function(e){e.confirm&&n.$subscribe(n.orderDetail.template_message_list).then(function(e){n.cancelAction(t)}).catch(function(e){n.cancelAction(t)})}})},cancelAction:function(t){var n=this;e.showLoading({title:"取消中"}),n.$request({url:n.$api.order.cancel,data:{id:t.id}}).then(function(t){e.hideLoading(),0===t.code?"advance"===n.sign?n.$request({url:n.$api.advance.order_detail,method:"get",data:{id:n.order_id}}).then(function(t){n.is_show=!0,0===t.code?n.orderDetail=t.data.detail:e.showModal({title:"",content:t.msg,showCancel:!1})}):n.getOrderDetail():e.showModal({title:"",content:t.msg,showCancel:!1})}).catch(function(){e.hideLoading()})},mobile:function(){e.makePhoneCall({phoneNumber:this.orderDetail.city.mobile})}},onLoad:function(e){this.order_id=e.id,this.sign=e.sign},onShow:function(){var t=this,n=setInterval(function(){"advance"===t.sign?t.$request({url:t.$api.advance.order_detail,method:"get",data:{id:t.order_id}}).then(function(n){t.is_show=!0,0===n.code?t.orderDetail=n.data.detail:e.showModal({title:"",content:n.msg,showCancel:!1})}):t.getOrderDetail(),clearInterval(n)},300)}};t.default=c}).call(this,n("c11b")["default"])},"581e":function(e,t,n){"use strict";n.r(t);var o=n("1492"),r=n("6b22");for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n("5076");var i=n("2877"),s=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,"5a5617b6",null);t["default"]=s.exports},"61c6":function(e,t,n){},"6b22":function(e,t,n){"use strict";n.r(t);var o=n("57b3"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=r.a}},[["4eb9","common/runtime","common/vendor"]]]);