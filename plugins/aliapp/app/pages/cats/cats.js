(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/cats/cats"],{"0e0e":function(t,e,i){},a5b4:function(t,e,i){"use strict";var s=i("0e0e"),a=i.n(s);a.a},ab0c:function(t,e,i){"use strict";i.r(e);var s=i("ca0d"),a=i("f1f0");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("a5b4");var c=i("2877"),r=Object(c["a"])(a["default"],s["a"],s["b"],!1,null,"4123c4c7",null);e["default"]=r.exports},ae58:function(t,e){t.exports=require("../siteinfo.js")},b205:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=c(i("a34a")),a=i("2f62"),n=c(i("7ab7"));function c(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,s,a,n,c){try{var r=t[n](c),l=r.value}catch(o){return void i(o)}r.done?e(l):Promise.resolve(l).then(s,a)}function l(t){return function(){var e=this,i=arguments;return new Promise(function(s,a){var n=t.apply(e,i);function c(t){r(n,s,a,c,l,"next",t)}function l(t){r(n,s,a,c,l,"throw",t)}c(void 0)})}}function o(t){return u(t)||d(t)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(i,!0).forEach(function(e){g(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p=function(){return i.e("pages/cats/style-one").then(i.bind(null,"5ec4"))},y=function(){return i.e("pages/cats/style-two").then(i.bind(null,"1380"))},v=function(){return i.e("pages/cats/style-three").then(i.bind(null,"b063"))},b=function(){return i.e("pages/cats/style-four").then(i.bind(null,"59d9"))},w=function(){return i.e("pages/cats/style-five").then(i.bind(null,"e9c1"))},m=function(){return i.e("pages/cats/style-six").then(i.bind(null,"d582"))},x=function(){return i.e("pages/cats/style-seven").then(i.bind(null,"97f2"))},$=function(){return i.e("pages/cats/style-eight").then(i.bind(null,"5d08"))},k=function(){return i.e("pages/cats/style-nine").then(i.bind(null,"7c2b"))},q=function(){return i.e("pages/cats/style-ten").then(i.bind(null,"d3c3"))},O=function(){return i.e("pages/cats/style-eleven").then(i.bind(null,"262a"))},P=function(){return i.e("components/page-component/app-search-for/app-search-for").then(i.bind(null,"73f4"))},I=function(){return i.e("components/page-component/app-attr/app-attr").then(i.bind(null,"d3c4"))},j={components:{"app-search-for":P,"style-one":p,"style-two":y,"style-three":v,"style-four":b,"style-five":w,"style-six":m,"style-seven":x,"style-eight":$,"style-nine":k,"style-ten":q,"style-eleven":O,"app-attr":I},data:function(){return{search_bool:!0,list:[],goods:[],request:!0,page:1,classId:0,activeIndex:0,activeIndexTwo:0,over:!1,scrollHeight:0,tabbarbool:!0,cat_id:0,cat_ids:[],againLower:!0,goods_list:[],page_count:1,select_cat_id:0,first_id:0,loading:!1,selectAttr:{},previewUrl:"",submitUrl:"",show:0,attrGroup:[],item:{}}},computed:f({},(0,a.mapGetters)("mallConfig",{cat_style:"getCatStyle"}),{},(0,a.mapState)("gConfig",{windowHeight:function(t){return t.systemInfo.windowHeight},windowWidth:function(t){return t.systemInfo.windowWidth}}),{},(0,a.mapGetters)("iPhoneX",{botHeight:"getBotHeight"}),{setHeight:function(){var t=0;return this.tabbarbool&&(t=this.botHeight),this.windowHeight*(750/this.windowWidth)-t-88}}),onReachBottom:function(){var e=this;"3"!==this.cat_style.cat_style&&"1"!==this.cat_style.cat_style&&(this.page<this.page_count?(this.page++,this.$request({url:this.$api.default.goods_list,method:"get",data:{page:this.page,cat_id:this.cat_id}}).then(function(t){var i;0===t.code&&("8"===e.cat_style.cat_style||"5"===e.cat_style.cat_style?e.dataProcessing(t.data.list):(i=e.goods_list).push.apply(i,o(t.data.list)))})):t.showToast({title:"暂无更多商品",icon:"none"}))},methods:{onAttr:function(t){this.selectAttr=t},attr:function(t,e,i,s){this.previewUrl=t,this.submitUrl=e,this.attrGroup=i,this.item=s,this.show=Math.random()},route_advert:function(t){(0,n.default)({open_type:t.advert_open_type,params:t.advert_params,page_url:t.advert_url})},active:function(t){var e=this;this.page=1,this.goods_list=[],this.cat_id=t.id,this.select_cat_id=t.id;for(var i=0;i<this.list.length;i++)this.list[i].active!==t.active&&(this.list[i].active=!1),this.list[i].id===t.id&&(this.list[i].active=!0);this.$request({url:"".concat(this.$api.default.goods_list,"&page=").concat(this.page,"&cat_id=").concat(t.id)}).then(function(t){0===t.code&&(e.dataProcessing(t.data.list),e.page_count=t.data.pagination.page_count)})},req:function(){var t=this;this.$request({url:"".concat(this.$api.default.goods_list,"&page=").concat(this.page,"&cat_id=").concat(this.classId)}).then(function(e){var i;e.data.list.length>0?"8"===t.cat_style.cat_style||"5"===t.cat_style.cat_style?t.dataProcessing(e.data.list):(i=t.goods).push.apply(i,o(e.data.list)):t.over=!0})},activeOne:function(t){var e=this;this.page=1,this.activeIndexTwo=0,this.cat_id=t.id,this.select_cat_id=t.id;for(var i=0;i<this.list.length;i++)this.list[i].active!==t.active&&(this.list[i].active=!1),this.list[i].id===t.id&&(this.list[i].active=!0,this.activeIndex=i);"5"===this.cat_style.cat_style&&(this.goods_list=[]),0===this.list[this.activeIndex].child.length?this.$request({url:"".concat(this.$api.default.goods_list,"&page=").concat(this.page,"&cat_id=").concat(t.id)}).then(function(i){var s=i.data,a=s.list,n=s.pagination;"8"===e.cat_style.cat_style||"5"===e.cat_style.cat_style?(e.goods_list=[],e.dataProcessing(a)):e.goods_list=a,e.page=1,e.cat_id=t.id,e.select_cat_id=t.id,e.page_count=n.page_count}):this.$request({url:"".concat(this.$api.default.goods_list,"&page=").concat(this.page,"&cat_id=").concat(this.list[this.activeIndex].child[0].id)}).then(function(i){var s=i.data,a=s.list,n=s.pagination;"8"===e.cat_style.cat_style||"5"===e.cat_style.cat_style?(e.goods_list=[],e.dataProcessing(a)):e.goods_list=a,e.page=1,e.cat_id=e.list[e.activeIndex].child[0].id,e.select_cat_id=t.id,e.page_count=n.page_count})},activeTwo:function(){var t=l(s.default.mark(function t(e,i){var a,n,c,r;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.page=1,this.activeIndexTwo=i,this.select_cat_id=e.id,this.cat_id=e.id,this.select_cat_id=e.id,t.next=7,this.$request({url:this.$api.default.goods_list,method:"get",data:{page:1,cat_id:e.id}});case 7:a=t.sent,0===a.code&&(n=a.data,c=n.list,r=n.pagination,this.goods_list=[],"5"===this.cat_style.cat_style?(this.goods_list=[],this.dataProcessing(c)):this.goods_list=c,this.page_count=r.page_count);case 9:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),activeThree:function(t){this.cat_id=t.id,this.select_cat_id=t.id;for(var e=0;e<this.list.length;e++)this.list[e].active!==t.active&&(this.list[e].active=!1),this.list[e].id===t.id&&(this.list[e].active=!0,this.activeIndex=e)},catLower:function(){var t=l(s.default.mark(function t(){var e,i,a,n;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.againLower){t.next=2;break}return t.abrupt("return");case 2:return this.againLower=!1,e=this.goods_list[this.goods_list.length-1],t.next=6,this.$request({url:this.$api.default.cat_goods,method:"get",data:{cat_ids:JSON.stringify(this.cat_ids),cat_id:e.id,offset:e.offset}});case 6:if(i=t.sent,0===i.code){for(i.data.list[0].id===e.id&&i.data.list[0].goods_list.length>0&&((a=this.goods_list[this.goods_list.length-1].goods_list).push.apply(a,o(i.data.list[0].goods_list)),this.goods_list[this.goods_list.length-1].offset=i.data.list[0].offset),n=1;n<i.data.list.length;n++)this.goods_list.push(i.data.list[n]);this.againLower=!0}case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),activeRequest:function(t){this.goods_list=[],0!==t.child.length&&this.requestCatList(t.child[0],0)},requestCatList:function(){var t=l(s.default.mark(function t(e,i){var a,n;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.page=1,this.cat_id=e.id,this.select_cat_id=e.id,this.activeIndexTwo=i,this.goods_list=[],0===e.child.length){t.next=12;break}for(this.cat_ids=[],a=0;a<e.child.length;a++)this.cat_ids.push(e.child[a].id);return t.next=10,this.$request({url:this.$api.default.cat_goods,method:"get",data:{cat_ids:JSON.stringify(this.cat_ids),cat_id:e.child[0].id,offset:0}});case 10:n=t.sent,0===n.code&&(this.goods_list=n.data.list);case 12:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),requestGoods:function(){var t=l(s.default.mark(function t(e,i){var a;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.page=1,this.cat_id=e.id,this.select_cat_id=e.id,this.goods_list=[],"10"===this.cat_style.cat_style&&i&&0!==this.list[i].child.length&&(this.activeIndexTwo=0,this.cat_id=this.list[i].child[0].id),t.next=7,this.$request({url:this.$api.default.goods_list,method:"get",data:{page:this.page,cat_id:this.cat_id}});case 7:a=t.sent,0===a.code&&(this.goods_list=a.data.list,this.page_count=a.data.pagination.page_count);case 9:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),lower:function(){var e=l(s.default.mark(function e(i){var a,n;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(i),!(this.page<this.page_count)){e.next=9;break}return this.page++,e.next=5,this.$request({url:this.$api.default.goods_list,method:"get",data:{page:this.page,cat_id:i.id}});case 5:a=e.sent,0===a.code&&(n=this.goods_list).push.apply(n,o(a.data.list)),e.next=10;break;case 9:t.showToast({title:"暂无更多商品",icon:"none"});case 10:case"end":return e.stop()}},e,this)}));function i(t){return e.apply(this,arguments)}return i}(),dataProcessing:function(t){for(var e=0;e<t.length;e+=2)e+1!==t.length?this.goods_list.push([t[e],t[e+1]]):this.goods_list.push([t[e]])},requestCat:function(){var t=l(s.default.mark(function t(e,i){var a,n,c,r,l,o,h,d,u,_=this;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!1,t.next=3,this.$request({url:this.$api.default.cat_list,method:"get",data:{cat_id:e||"",select_cat_id:i||""}});case 3:if(a=t.sent,0!==a.code){t.next=66;break}if(this.list=a.data.list,"1"!==this.cat_style.cat_style||0!==this.list.length){t.next=9;break}return this.search_bool=!1,t.abrupt("return");case 9:if("2"!==this.cat_style.cat_style&&"1"!==this.cat_style.cat_style){t.next=12;break}return t.abrupt("return");case 12:if("3"!==this.cat_style.cat_style||0!==this.list.length){t.next=16;break}return this.search_bool=!1,t.abrupt("return");case 16:if(!e&&!i){t.next=44;break}if("11"!==this.cat_style.cat_style){t.next=30;break}if(this.cat_ids=[],this.list.map(function(t,e){t.active&&(_.activeIndex=e)}),0!==this.list[this.activeIndex].child.length){t.next=22;break}return t.abrupt("return");case 22:for(n=0;n<this.list[this.activeIndex].child[0].child.length;n++)this.cat_ids.push(this.list[this.activeIndex].child[0].child[n].id);if(0!==this.cat_ids.length){t.next=25;break}return t.abrupt("return");case 25:return t.next=27,this.$request({url:this.$api.default.cat_goods,method:"get",data:{cat_ids:JSON.stringify(this.cat_ids),cat_id:this.cat_ids[0],offset:0}});case 27:return c=t.sent,0===c.code&&(this.goods_list=c.data.list),t.abrupt("return");case 30:if("6"!==this.cat_style.cat_style&&"7"!==this.cat_style.cat_style){t.next=33;break}return this.list.map(function(t,e){t.active&&(_.activeIndex=e)}),t.abrupt("return");case 33:if(this.list.length>0)for(r=0;r<this.list.length;r++)this.list[r].active&&(this.cat_id=this.list[r].id);if(("5"===this.cat_style.cat_style||"10"===this.cat_style.cat_style)&&this.list.length>0&&this.list[0].child.length>0)for(l=0;l<this.list.length;l++)this.list[l].active&&(this.cat_id=this.list[l].child[0].id);if(0!==this.list.length||"4"!==this.cat_style.cat_style){t.next=38;break}return this.search_bool=!1,t.abrupt("return");case 38:return t.next=40,this.$request({url:this.$api.default.goods_list,method:"get",data:{page:1,cat_id:this.cat_id}});case 40:o=t.sent,0===o.code&&("8"===this.cat_style.cat_style?this.dataProcessing(o.data.list):"5"===this.cat_style.cat_style?this.dataProcessing(o.data.list):this.goods_list=o.data.list,this.page_count=o.data.pagination.page_count,0===this.list.length&&0===this.goods_list.length&&(this.search_bool=!1)),t.next=66;break;case 44:if(!(this.list.length>0)){t.next=65;break}if("11"!==this.cat_style.cat_style){t.next=57;break}if(this.cat_ids=[],0!==this.list.length&&0!==this.list[0].child.length){t.next=49;break}return t.abrupt("return");case 49:for(h=0;h<this.list[0].child[0].child.length;h++)this.cat_ids.push(this.list[0].child[0].child[h].id);if(0!==this.cat_ids.length){t.next=52;break}return t.abrupt("return");case 52:return t.next=54,this.$request({url:this.$api.default.cat_goods,method:"get",data:{cat_ids:JSON.stringify(this.cat_ids),cat_id:this.cat_ids[0],offset:0}});case 54:return d=t.sent,0===d.code&&(this.goods_list=d.data.list),t.abrupt("return");case 57:return this.cat_id=this.list[0].id,("5"===this.cat_style.cat_style||"10"===this.cat_style.cat_style)&&this.list[0].child.length>0&&(this.cat_id=this.list[0].child[0].id),t.next=61,this.$request({url:this.$api.default.goods_list,method:"get",data:{page:1,cat_id:this.cat_id}});case 61:u=t.sent,0===u.code&&("8"===this.cat_style.cat_style||"5"===this.cat_style.cat_style?this.dataProcessing(u.data.list):this.goods_list=u.data.list,this.page_count=u.data.pagination.page_count),t.next=66;break;case 65:this.search_bool=!1;case 66:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}()},onLoad:function(t){var e=this;setTimeout(function(){e.tabbarbool=e.$children[0].tabbarbool},500),this.cat_id=t.cat_id,this.first_id=t.cat_id,t.first_id&&t.select_cat_id?this.requestCat(t.first_id,t.select_cat_id).then(function(){e.loading=!0}):!t.first_id&&t.select_cat_id?this.requestCat("",t.select_cat_id).then(function(){e.loading=!0}):t.first_id||t.select_cat_id||this.requestCat(t.cat_id).then(function(){e.loading=!0})},onShareAppMessage:function(){return this.$shareAppMessage({path:"/pages/cats/cats",title:this.$children[0].navigationBarTitle,params:{cat_id:this.first_id,first_id:this.first_id,select_cat_id:this.select_cat_id}})}};e.default=j}).call(this,i("c11b")["default"])},ca0d:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})},f1f0:function(t,e,i){"use strict";i.r(e);var s=i("b205"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=a.a}},[["f539","common/runtime","common/vendor"]]]);